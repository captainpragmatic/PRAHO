{% comment %}
===============================================================================
ðŸŽ¯ HTMX-POWERED BUTTON COMPONENT
===============================================================================
Button component with full HTMX support and loading states
Usage: {% button "Label" variant="primary" href="/url" hx_get="/endpoint" size="sm" %}
{% endcomment %}

{% if href %}
<a href="{{ href }}"
  class="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 disabled:opacity-50 disabled:cursor-not-allowed {% if variant == 'primary' %}bg-red-600 text-white hover:bg-red-700 focus:ring-red-300 border border-red-600{% elif variant == 'secondary' %}bg-slate-600 text-white hover:bg-slate-700 focus:ring-slate-300 border border-slate-600{% elif variant == 'success' %}bg-green-600 text-white hover:bg-green-700 focus:ring-green-300 border border-green-600{% elif variant == 'danger' %}bg-red-600 text-white hover:bg-red-700 focus:ring-red-300 border border-red-600{% elif variant == 'warning' %}bg-yellow-500 text-white hover:bg-yellow-600 focus:ring-yellow-300 border border-yellow-500{% elif variant == 'info' %}bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-300 border border-blue-600{% else %}bg-slate-600 text-white hover:bg-slate-700 focus:ring-slate-300 border border-slate-600{% endif %} {% if size == 'xs' %}px-2 py-1 text-xs{% elif size == 'sm' %}px-3 py-1.5 text-sm{% elif size == 'lg' %}px-4 py-2.5 text-base{% elif size == 'xl' %}px-6 py-3 text-lg{% else %}px-4 py-2 text-sm{% endif %} {{ class }}"
  {% if hx_get %}hx-get="{{ hx_get }}"{% endif %}{% if hx_post %} hx-post="{{ hx_post }}"{% endif %}{% if hx_put %} hx-put="{{ hx_put }}"{% endif %}{% if hx_patch %} hx-patch="{{ hx_patch }}"{% endif %}{% if hx_delete %} hx-delete="{{ hx_delete }}"{% endif %}{% if hx_target %} hx-target="{{ hx_target }}"{% endif %}{% if hx_swap %} hx-swap="{{ hx_swap|default:'innerHTML' }}"{% endif %}{% if hx_trigger %} hx-trigger="{{ hx_trigger }}"{% endif %}{% if hx_confirm %} hx-confirm="{{ hx_confirm }}"{% endif %}{% if hx_indicator %} hx-indicator="{{ hx_indicator }}"{% endif %}{% if hx_push_url %} hx-push-url="{{ hx_push_url }}"{% endif %}{% if hx_select %} hx-select="{{ hx_select }}"{% endif %}{% if hx_boost %} hx-boost="true"{% endif %}{% if disabled %} aria-disabled="true" tabindex="-1"{% endif %}{% if attrs %} {{ attrs }}{% endif %}>
  {% if icon %}<i class="{{ icon }} {% if not icon_right %}mr-2{% else %}ml-2 order-2{% endif %}"></i>{% endif %}
  <span class="htmx-indicator-text">{{ text }}</span>
  <span class="htmx-indicator hidden">
    <svg class="animate-spin h-4 w-4 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor"
        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
      </path>
    </svg>
  </span>
</a>
{% else %}
<button type="{{ type|default:'button' }}"
  class="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-4 disabled:opacity-50 disabled:cursor-not-allowed {% if variant == 'primary' %}bg-red-600 text-white hover:bg-red-700 focus:ring-red-300 border border-red-600{% elif variant == 'secondary' %}bg-slate-600 text-white hover:bg-slate-700 focus:ring-slate-300 border border-slate-600{% elif variant == 'success' %}bg-green-600 text-white hover:bg-green-700 focus:ring-green-300 border border-green-600{% elif variant == 'danger' %}bg-red-600 text-white hover:bg-red-700 focus:ring-red-300 border border-red-600{% elif variant == 'warning' %}bg-yellow-500 text-white hover:bg-yellow-600 focus:ring-yellow-300 border border-yellow-500{% elif variant == 'info' %}bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-300 border border-blue-600{% else %}bg-slate-600 text-white hover:bg-slate-700 focus:ring-slate-300 border border-slate-600{% endif %} {% if size == 'xs' %}px-2 py-1 text-xs{% elif size == 'sm' %}px-3 py-1.5 text-sm{% elif size == 'lg' %}px-4 py-2.5 text-base{% elif size == 'xl' %}px-6 py-3 text-lg{% else %}px-4 py-2 text-sm{% endif %} {{ class }}"
  {% if hx_get %}hx-get="{{ hx_get }}"{% endif %}{% if hx_post %} hx-post="{{ hx_post }}"{% endif %}{% if hx_put %} hx-put="{{ hx_put }}"{% endif %}{% if hx_patch %} hx-patch="{{ hx_patch }}"{% endif %}{% if hx_delete %} hx-delete="{{ hx_delete }}"{% endif %}{% if hx_target %} hx-target="{{ hx_target }}"{% endif %}{% if hx_swap %} hx-swap="{{ hx_swap|default:'innerHTML' }}"{% endif %}{% if hx_trigger %} hx-trigger="{{ hx_trigger }}"{% endif %}{% if hx_confirm %} hx-confirm="{{ hx_confirm }}"{% endif %}{% if hx_indicator %} hx-indicator="{{ hx_indicator }}"{% endif %}{% if hx_push_url %} hx-push-url="{{ hx_push_url }}"{% endif %}{% if hx_select %} hx-select="{{ hx_select }}"{% endif %}{% if hx_boost %} hx-boost="true"{% endif %}{% if disabled %} disabled{% endif %}{% if attrs %} {{ attrs }}{% endif %}>
  {% if icon %}<i class="{{ icon }} {% if not icon_right %}mr-2{% else %}ml-2 order-2{% endif %}"></i>{% endif %}
  <span class="htmx-indicator-text">{{ text }}</span>
  <span class="htmx-indicator hidden">
    <svg class="animate-spin h-4 w-4 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor"
        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
      </path>
    </svg>
  </span>
</button>
{% endif %}

<style>
  /* ðŸ”„ HTMX loading indicator styles */
  .htmx-request .htmx-indicator {
    display: inline-flex !important;
  }

  .htmx-request .htmx-indicator-text {
    display: none !important;
  }
</style>
