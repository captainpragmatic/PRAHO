{% load i18n formatting %}

{% if error %}
  <div class="bg-red-900/30 border border-red-700/50 text-red-300 text-sm rounded-lg p-3">
    {{ message }}
  </div>
{% else %}
  <div class="bg-slate-900/40 border border-slate-700 rounded-lg p-4">
    <div class="flex items-center justify-between mb-2">
      <div class="text-sm text-slate-300">
        {% trans "Preview Totals" %}
      </div>
      <div class="text-xs text-slate-500">
        {% if vat_reasoning %}{{ vat_reasoning }}{% endif %}
      </div>
    </div>
    <div class="space-y-2 text-sm">
      <div class="flex justify-between">
        <span class="text-slate-400">{% trans "Unit Price" %} Ã— {{ quantity }}</span>
        <span class="text-white">{{ unit_cents|cents_to_currency|romanian_currency:currency }}</span>
      </div>
      <div class="flex justify-between">
        <span class="text-slate-400">{% trans "Setup Fee" %}</span>
        <span class="text-white">{{ setup_cents|cents_to_currency|romanian_currency:currency }}</span>
      </div>
      <div class="flex justify-between">
        <span class="text-slate-400">{% trans "Subtotal" %}</span>
        <span class="text-white">{{ subtotal_cents|cents_to_currency|romanian_currency:currency }}</span>
      </div>
      <div class="flex justify-between">
        <span class="text-slate-400">{% trans "VAT" %}</span>
        <span class="text-white">{{ vat_cents|cents_to_currency|romanian_currency:currency }}</span>
      </div>
      <div class="border-t border-slate-700 pt-2 flex justify-between text-base">
        <span class="text-white font-medium">{% trans "Total" %}</span>
        <span class="text-green-400 font-semibold">{{ total_cents|cents_to_currency|romanian_currency:currency }}</span>
      </div>
    </div>
  </div>
{% endif %}

